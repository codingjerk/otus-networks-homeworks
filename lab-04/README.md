# Архитектура сети (планирование и адресного пространства, IPv4/6)

## Задание

**Цель:**

В данной самостоятельной работе необходимо распланировать адресное пространство
Настроить IP на всех активных портах для дальнейшей работы над проектом
Адресное пространство должно быть задокументировано

**Описание/Пошаговая инструкция выполнения домашнего задания:**

В этой самостоятельной работе мы ожидаем, что вы самостоятельно:

1. Разработаете и задокументируете адресное пространство для лабораторного стенда.
2. Настроите ip адреса на каждом активном порту
3. Настроите каждый VPC в каждом офисе в своем VLAN.
4. Настроите VLAN управления для сетевых устройств
5. Настроите сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано

## Решение

Лабораторный стенд предоставлен в готовом виде, его топология:

![Топология стенда, скриншот из Eve-NG](./topology-initial.png)

Для решения задачи определим внутренние и внешние IPv4 и IPv6
подсети для каждой AS.

Для IPv4 все внутренние адреса будут из общей подсети `192.168.0.0/16`,
внешние — из `193.1.0.0/16`, а IPv6 — SLAAC адреса `2001::`

|AS|Город|IPv4 (внутр)|IPv4 (внеш)|IPv6|
|AS101 |Киторн      |`192.168.1.0/24`|`193.1.1.0/24`|`2001:1::/64`|
|AS301 |Ламас       |`192.168.2.0/24`|`193.1.2.0/24`|`2001:2::/64`|
|AS520 |Триада      |`192.168.3.0/24`|`193.1.3.0/24`|`2001:3::/64`|
|AS1001|Лабытананги |`192.168.4.0/24`|`193.1.4.0/24`|`2001:4::/64`|
|AS1001|Чокурдах    |`192.168.5.0/24`|`193.1.5.0/24`|`2001:5::/64`|
|AS1001|Москва      |`192.168.6.0/24`|`193.1.6.0/24`|`2001:6::/64`|
|AS2042|С.-Петербург|`192.168.7.0/24`|`193.1.7.0/24`|`2001:7::/64`|

Для каждого устройства в сети назначим адреса в соответствии с подсетями.

### Роутеры

|Устройство|Порт|Адрес (IPv4)|Адрес (IPv6)|
|R22|e0/0|`193.1.1.0`|`2001:1::0`|
|   |e0/1|`193.1.1.1`|`2001:1::1`|
|   |e0/2|`193.1.1.2`|`2001:1::2`|
|R21|e0/0|`193.1.2.0`|`2001:2::0`|
|   |e0/1|`193.1.2.1`|`2001:2::1`|
|   |e0/2|`193.1.2.2`|`2001:2::2`|
|R23|e0/0|`193.1.3.0` |`2001:3::0`|
|   |e0/1|`193.1.3.1` |`2001:3::1`|
|   |e0/2|`193.1.3.2` |`2001:3::2`|
|R24|e0/0|`193.1.3.10`|`2001:3::1:0`|
|   |e0/1|`193.1.3.11`|`2001:3::1:1`|
|   |e0/2|`193.1.3.12`|`2001:3::1:2`|
|   |e0/3|`193.1.3.13`|`2001:3::1:3`|
|R25|e0/0|`193.1.3.20`|`2001:3::2:0`|
|   |e0/1|`193.1.3.21`|`2001:3::2:1`|
|   |e0/2|`193.1.3.22`|`2001:3::2:2`|
|   |e0/3|`193.1.3.23`|`2001:3::2:3`|
|R26|e0/0|`193.1.3.30`|`2001:3::3:0`|
|   |e0/1|`193.1.3.31`|`2001:3::3:1`|
|   |e0/2|`193.1.3.32`|`2001:3::3:2`|
|   |e0/3|`193.1.3.33`|`2001:3::3:3`|
|R27|e0/0|`193.1.4.0`|`2001:4::0`|
|R28|e0/0|`193.1.5.0`|`2001:5::0`|
|   |e0/1|`193.1.5.1`|`2001:5::1`|
|   |e0/2|`193.1.5.2`|`2001:5::2`|
|R12|e0/0|`193.1.6.0`|`2001:6::0`|
|   |e0/1|`193.1.6.1`|`2001:6::1`|
|   |e0/2|`193.1.6.2`|`2001:6::2`|
|   |e0/3|`193.1.6.3`|`2001:6::3`|
|R13|e0/0|`193.1.6.10`|`2001:6::1:0`|
|   |e0/1|`193.1.6.11`|`2001:6::1:1`|
|   |e0/2|`193.1.6.12`|`2001:6::1:2`|
|   |e0/3|`193.1.6.13`|`2001:6::1:3`|
|R14|e0/0|`193.1.6.20`|`2001:6::2:0`|
|   |e0/1|`193.1.6.21`|`2001:6::2:1`|
|   |e0/2|`193.1.6.22`|`2001:6::2:2`|
|   |e0/3|`193.1.6.23`|`2001:6::2:3`|
|R15|e0/0|`193.1.6.30`|`2001:6::3:0`|
|   |e0/1|`193.1.6.31`|`2001:6::3:1`|
|   |e0/2|`193.1.6.32`|`2001:6::3:2`|
|   |e0/3|`193.1.6.33`|`2001:6::3:3`|
|R19|e0/0|`193.1.6.40`|`2001:6::4:0`|
|R20|e0/0|`193.1.6.50`|`2001:6::5:0`|
|R16|e0/0|`193.1.7.0`|`2001:7::0`|
|   |e0/1|`193.1.7.1`|`2001:7::1`|
|   |e0/2|`193.1.7.2`|`2001:7::2`|
|   |e0/3|`193.1.7.3`|`2001:7::3`|
|R17|e0/0|`193.1.7.10`|`2001:7::1:0`|
|   |e0/1|`193.1.7.11`|`2001:7::1:1`|
|   |e0/2|`193.1.7.12`|`2001:7::1:2`|
|R18|e0/0|`193.1.7.20`|`2001:7::2:0`|
|   |e0/1|`193.1.7.21`|`2001:7::2:1`|
|   |e0/2|`193.1.7.22`|`2001:7::2:2`|
|   |e0/3|`193.1.7.23`|`2001:7::2:3`|
|R32|e0/0|`193.1.7.30`|`2001:7::3:0`|

### Свичи

|Устройство|Порт|Адрес (IPv4)|Адрес (IPv6)|
|SW29|e0/0|`193.1.5.100`|`2001:5::1:0:0`|
|    |e0/1|`193.1.5.101`|`2001:5::1:0:1`|
|    |e0/2|`193.1.5.102`|`2001:5::1:0:2`|
|SW4|e0/0|`193.1.6.100`|`2001:6::1:0:0`|
|   |e0/1|`193.1.6.101`|`2001:6::1:0:1`|
|   |e0/2|`193.1.6.102`|`2001:6::1:0:2`|
|   |e0/3|`193.1.6.103`|`2001:6::1:0:3`|
|   |e1/0|`193.1.6.104`|`2001:6::1:0:4`|
|   |e1/1|`193.1.6.105`|`2001:6::1:0:5`|
|SW5|e0/0|`193.1.6.110`|`2001:6::1:1:0`|
|   |e0/1|`193.1.6.111`|`2001:6::1:1:1`|
|   |e0/2|`193.1.6.112`|`2001:6::1:1:2`|
|   |e0/3|`193.1.6.113`|`2001:6::1:1:3`|
|   |e1/0|`193.1.6.114`|`2001:6::1:1:4`|
|   |e1/1|`193.1.6.115`|`2001:6::1:1:5`|
|SW9 |e0/0|`193.1.7.100`|`2001:7::1:0:0`|
|    |e0/1|`193.1.7.101`|`2001:7::1:0:1`|
|    |e0/2|`193.1.7.102`|`2001:7::1:0:2`|
|    |e0/3|`193.1.7.102`|`2001:7::1:0:2`|
|SW10|e0/0|`193.1.7.110`|`2001:7::1:1:0`|
|    |e0/1|`193.1.7.111`|`2001:7::1:1:1`|
|    |e0/2|`193.1.7.112`|`2001:7::1:1:2`|
|    |e0/3|`193.1.7.112`|`2001:7::1:1:2`|

### VPCs

|Устройство|Адрес (IPv4)|Адрес (IPv6)|
|VPC30|`193.1.5.200`|`2001:5::2:0:0`|
|VPC31|`193.1.5.210`|`2001:5::2:1:0`|
|VPC1|`193.1.6.200`|`2001:6::2:0:0`|
|VPC7|`193.1.6.210`|`2001:6::2:1:0`|
|VPC  |`193.1.7.200`|`2001:7::2:0:0`|
|VPC8 |`193.1.7.210`|`2001:7::2:1:0`|

В EVE-NG назначать VPC IPv6-адреса нельзя,
поэтому при конфигурации ограничимся IPv4.

### VLAN

Теперь определимся с VLAN'ами.

TODO: VLAN

TODO: Проконфигурируем устройства
TODO: броадкаст-штормы

TODO: итоговая схема
