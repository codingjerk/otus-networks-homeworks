# BGP. Основы

## Задание

**Цель:**

Настроить BGP между автономными системами

Организовать доступность между офисами Москва и С.-Петербург

**Описание/Пошаговая инструкция выполнения домашнего задания:**

В этой самостоятельной работе мы ожидаем, что вы самостоятельно:

1. Настроите eBGP между офисом Москва и двумя провайдерами - Киторн и Ламас.
2. Настроите eBGP между провайдерами Киторн и Ламас.
3. Настроите eBGP между Ламас/Киторн и Триада.
4. Настроите eBGP между офисом С.-Петербург и провайдером Триада.
5. Организуете IP доступность между пограничным роутерами офисами Москва и С.-Петербург.
6. План работы и изменения зафиксированы в документации.

![Топология стенда, скриншот из Eve-NG](./topology.png)

## Решение

Настроим роутеры по такому шаблону:

1. Активируем маршрутизацию с использованием BGP,
выберем.

```
router bgp <ASN>
```

2. Зададим `router-id`

```
bgp router-id <IP>
```

3. Укажем соседний роутер:

```
neighbor <IP> remote-as <ASN>
```

Можно указать несколько BGP-соседей для разных ASN
и для одного ASN указать два разных IP.

4. Анонсируем маршрутизируемые подсети:

```
network <network> mask <mask>
```

### Адресное пространство

|AS|Город|IPv4|IPv6|
|AS101 |Киторн      |`193.1.1.0/24`|`2001:1::/64`|
|AS301 |Ламас       |`193.1.2.0/24`|`2001:2::/64`|
|AS520 |Триада      |`193.1.3.0/24`|`2001:3::/64`|
|AS1001|Лабытананги |`193.1.4.0/24`|`2001:4::/64`|
|AS1001|Чокурдах    |`193.1.5.0/24`|`2001:5::/64`|
|AS1001|Москва      |`193.1.6.0/24`|`2001:6::/64`|
|AS2042|С.-Петербург|`193.1.7.0/24`|`2001:7::/64`|

### Настройка

Настроим все пограничные роутеры:

TODO: конфиги
  - R14
  - R15
  - R18
  - R21
  - R22
  - R23
  - R24
  - R26

### Проверка

```
sh ip bgp summary

TODO
```

```
sh bgp ipv{4,6} unicast

TODO
```

```
sh ip route bgp

TODO
```

```
ping R14 → R18

TODO
```
